<!DOCTYPE html>

<style>
    body {
        background-image: url("/assets/img/leaves.webp")
    }
    @media (min-width: 30em) {
        .urow { width: 100%; display: table; table-layout: fixed; }
        .ucol { display: table-cell; }
    }
    @font-face {
        font-family: "Pixelated MS Sans Serif";
        src: url('/node_modules/xp.css/dist/ms_sans_serif.woff2') format('woff2');
    }

    @font-face {
        font-family: "Pixelated MS Sans Serif";
        src: url('/node_modules/xp.css/dist/ms_sans_serif_bold.woff2') format('woff2');
        font-weight: bold;
    }
</style>
<head>
    <meta charset="UTF-8" />
    <link id="pagestyle" rel="stylesheet" href="https://unpkg.com/xp.css"/>
<!--    <link rel="stylesheet" href="https://unpkg.com/@sakun/system.css" />-->
    <link rel="stylesheet" href="/assets/css/index.css"/>
    <title>{{ page.title }} | {{ site.title }}</title>

    <link rel="stylesheet" id="switcher-id" href=""/>
</head>
<body class="container">
    <div class="title">
        <p style="font-family: InterVariable, Inter, sans-serif">DAMIDOOP XYZ</p>
    </div>
    <div id="main" class="clearfix">
        <nav>
            <div class="window glass active" style="margin-right: 1em; margin-bottom: 1em;">
                <div class="title-bar">
                    <div class="title-bar-text">Navigation</div>
                    <div class="title-bar-controls">
                        <button aria-label="Minimize"></button>
                        <button aria-label="Close"></button>
                    </div>
                </div>
                <div class="window-body">
                    {% include nav.html %}
                    <div style="margin-top: .5em;">
                        <select id="theme-selector">
                            <option id="xp-style" value="0">XP Theme</option>
                            <option id="98-style" value="1">98 Theme</option>
                            <option id="7-style" value="2">7 Theme</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="window glass active" style="margin-right: 1em; margin-bottom: 1em;">
                <div class="title-bar">
                    <div class="title-bar-text">Hits & Buttons</div>
                </div>
                <div class="window-body">
                    <marquee>
                        <div>
                            <img src='https://www.free-website-hit-counter.com/zc.php?d=9&id=4484&s=18' border='0'>
                            <img src="/assets/img/pictures/buttons/any_browser.gif">
                            <a href="https://bmh.neocities.org/"><img src="/assets/img/pictures/buttons/bestview.gif"></a>
                            <img src="/assets/img/pictures/buttons/bmhonline_button.gif">
                            <img src="/assets/img/pictures/buttons/can_iam.gif">
                            <img src="/assets/img/pictures/buttons/linux_powered.gif">
                        </div>
                    </marquee>
                </div>
            </div>
        </nav>
        {{ content }}
    </div>
</body>

<script>
    window.addEventListener('load', initialize, false);
    window.addEventListener('load', loadTheme, false);

    function swapStyleSheet(sheet) {
        document.getElementById("pagestyle").setAttribute("href", sheet);
    }

    function initialize() {
        let XPStyle = document.getElementById("xp-style");
        let ninetyEightStyle = document.getElementById("98-style");
        let sevenStyle = document.getElementById("7-style");

        XPStyle.onclick = function () {
            swapStyleSheet("https://unpkg.com/xp.css");
            localStorage.setItem("theme", "XP");
        }
        ninetyEightStyle.onclick = function () {
            swapStyleSheet("https://unpkg.com/xp.css@0.2.3/dist/98.css");
            localStorage.setItem("theme", "98");
        }
        sevenStyle.onclick = function () {
            swapStyleSheet("https://unpkg.com/7.css")
            localStorage.setItem("theme", "7");
        }
    }

    function loadTheme() {
        let currentTheme = localStorage.getItem("theme");
        let themeSelect = document.getElementById("theme-selector");

        switch (currentTheme) {
            case "XP":
                swapStyleSheet("https://unpkg.com/xp.css");
                themeSelect.value = "0";
                break
            case "98":
                swapStyleSheet("https://unpkg.com/98.css");
                themeSelect.value = "1";
                break
            case "7":
                swapStyleSheet("https://unpkg.com/7.css");
                themeSelect.value = "2";
                break
        }
    }
</script>
